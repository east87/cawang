<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');class Model_address extends CI_Model{    function __construct()    {        parent::__construct();    }    function getProvince()    {        $data  = array();        $sql   = "select province_id,province_name from tbl_province ORDER BY `tbl_province`.`province_name` ASC";        $query	= $this->db->query($sql);        $rs		= $query->result_array();         return $rs;    }    function getcity($province_id)    {                $sql   = "Select * from  tbl_city  where  province_id= '" . $province_id . "'";        $query	= $this->db->query($sql);        $rs		= $query->result_array();         return $rs;    }    function getDistrict($city_id)    {               $sql   = "Select * from  tbl_districts  where  city_id= '" . $city_id . "'";        $query	= $this->db->query($sql);        $rs		= $query->result_array();         return $rs;    }        function getListCity($cond = null)    {        $query = "SELECT a.city_id,a.city_name, b.province_name " . "FROM tbl_city as a " . " inner join tbl_province as b on a.province_id = b.province_id " . " " . $cond;        $query = $this->db->query($query)->result_array();        return $query;    }           function getCityS($id = '')    {        $where = '';        if ($id != '') {            $where = "WHERE city_id = " . $id;        }        $sql   = "SELECT a.city_id,a.city_name, b.province_id, b.province_name " . "FROM tbl_city as a " . " inner join tbl_province as b on a.province_id = b.province_id " . " $where " . " ORDER BY city_id ASC";        $query = $this->db->query($sql);        $rs    = $query->result_array();        return $rs;    }    function deleteCity($id = '')    {        $sql   = "DELETE FROM tbl_city WHERE city_id = " . $id;        $query = $this->db->query($sql);        $str   = $this->db->last_query();        return $str;    }    function checkCity($city_title)    {        $sql   = "SELECT city_title FROM tbl_city WHERE city_title = '" . $city_title . "'";        $query = $this->db->query($sql);        $rs    = $query->result_array();        return $rs;    }    function insertCity($province_id, $city_name)    {        $sql     = "INSERT INTO tbl_city SET                             city_name= '" . $city_name . "',                             province_id= " . $province_id . " ";        $query   = $this->db->query($sql);        $last_id = $this->db->insert_id();        return $last_id;    }    function updateCity($id, $province_id, $city_name)    {        $sql   = "UPDATE tbl_city SET                             city_name= '" . $city_name . "',                            province_id= " . $province_id . "                             WHERE city_id = " . $id;        $query = $this->db->query($sql);        return $query;    }    function getListPostal($cond = null)    {        $query = "SELECT a.postal_code_id, a.postal_code_name, a.villages_id, b.villages_name, b.districts_id," . "c.districts_name, c.city_id, d.city_name, d.province_id, e.province_name " . "FROM tbl_postal_code as a " . " inner join tbl_villages as b " . " on a.villages_id = b.villages_id " . " inner join tbl_districts as c " . " on b.districts_id = c.districts_id " . " inner join tbl_city as d " . " on c.city_id = d.city_id " . " inner join tbl_province as e on d.province_id = e.province_id " . " " . $cond;        $query = $this->db->query($query)->result_array();        return $query;    }    function getPostal($id = '')    {        $where = '';        if ($id != '') {            $where = "WHERE postal_code_id = " . $id;        }        $sql   = "SELECT a.postal_code_id, a.postal_code_name, a.villages_id, b.villages_name, b.districts_id," . "c.districts_name, c.city_id, d.city_name, d.province_id, e.province_name " . "FROM tbl_postal_code as a " . " inner join tbl_villages as b " . " on a.villages_id = b.villages_id " . " inner join tbl_districts as c " . " on b.districts_id = c.districts_id " . " inner join tbl_city as d " . " on c.city_id = d.city_id " . " inner join tbl_province as e on d.province_id = e.province_id " . " $where " . " ORDER BY city_id ASC";        $query = $this->db->query($sql);        $rs    = $query->result_array();        return $rs;    }    function insertVillages($districts_id, $villages_name)    {        $sql     = " INSERT INTO tbl_villages SET                             districts_id= " . $districts_id . ",                             villages_name=  '" . $villages_name . "' ";        $query   = $this->db->query($sql);        $last_id = $this->db->insert_id();        return $last_id;    }    function insertPostal($postal_code_name, $villages_id)    {        $sql     = "INSERT INTO tbl_postal_code SET                             postal_code_name= '" . $postal_code_name . "',                             villages_id= " . $villages_id . " ";        $query   = $this->db->query($sql);        $last_id = $this->db->insert_id();        return $last_id;    }    function deletePostal($id = '')    {        $sql   = "DELETE FROM tbl_postal_code WHERE postal_code_id = " . $id;        $query = $this->db->query($sql);        $str   = $this->db->last_query();        return $str;    }    function updatePostal($id, $postal_code_name, $villages_id)    {        $sql   = "UPDATE tbl_postal_code SET                             postal_code_name= '" . $postal_code_name . "',                             villages_id= " . $villages_id . "                             WHERE postal_code_id = " . $id;        $query = $this->db->query($sql);        return $query;    }}